<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz App</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="quiz-container">
    <h2 class="title">Quick Quiz</h2>
    <p id="timer" class="timer">30s</p>

    <h3 id="question"></h3>
    <div id="options" class="options"></div>
    <p id="progress" class="progress"></p>
</div>
<div id="resultBox" class="hidden result-box">
    <h2 id="congratsText"></h2>
    <p id="finalScore"></p>
</div>
<script>
    const questions =[
    {
        q: "Which language runs in a web browser?",
        options: ["Java", "C", "Python", "JavaScript"],
        answer: 3
    },
    {
        q: "CSS stands for?",
        options: ["Computer Style Sheet", "Cascading Style Sheet", "Creative Style Syntax", "Common Simple Sheet"],
        answer: 1
    }
];

let index = 0;
let timeLeft = 30;
let timerInterval;
let score = 0;

const questionEl = document.getElementById("question");
const optsEl = document.getElementById("options");
const timerEl = document.getElementById("timer");
const progressEl = document.getElementById("progress");

function loadQuestion() {
    timeLeft = 30;
    timerEl.innerText = timeLeft + "s";

    let q = questions[index];
    questionEl.textContent = q.q;
    progressEl.textContent = `Question ${index+1} of ${questions.length}`;

    optsEl.innerHTML = "";
    q.options.forEach((opt, i) => {
        let div = document.createElement("div");
        div.className = "option";
        div.textContent = opt;
        div.onclick = () => checkAnswer(i);
        optsEl.appendChild(div);
    });
    startTimer();
}
function startTimer() {
    clearInterval(timerInterval);
    timerInterval = setInterval(() => {
        timeLeft--;
        timerEl.textContent = timeLeft + "s";
        if(timeLeft <= 0){
            clearInterval(timerInterval);
            nextQuestion();
        }
    }, 1000);
}
function checkAnswer(selected){
    clearInterval(timerInterval);

    let options = document.querySelectorAll(".option");
    options.forEach(o => o.style.pointerEvents = "none");
    if(selected === questions[index].answer){
        options[selected].classList.add("correct");
        score++;
    } else {
        options[selected].classList.add("wrong");
    }
    setTimeout(() => nextQuestion(), 800);
}
function nextQuestion(){
    index++;
    if(index < questions.length){
        loadQuestion();
    } else {
        quizEnd();
    }
}
function quizEnd(){
    timerEl.style.display = "none";
    progressEl.textContent = "";

    document.querySelector(".quiz-container").innerHTML = `
        <h2 class="congrats">ðŸŽ‰ Congratulations! ðŸŽ‰</h2>
        <p class="score-text">Your Score: <b>${score}</b> / ${questions.length}</p>
    `;
}
loadQuestion();
</script>
</body>
</html>
